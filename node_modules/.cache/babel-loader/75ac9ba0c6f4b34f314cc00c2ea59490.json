{"ast":null,"code":"var _jsxFileName = \"/home/raj/Desktop/resumeX/resumeX/src/utils/RequireAuth.js\";\nimport React, { Children, useContext, useState } from 'react';\nimport UserInfo from './Authorization/UserInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RequireAuth = _ref => {\n  let {\n    allowedRoles,\n    permissions,\n    children\n  } = _ref;\n  const userData = UserInfo();\n\n  // var is_allowed = userData?.role?.some(allowed_role => allowedRoles?.includes(allowed_role))\n\n  var is_allowed = allowedRoles === null || allowedRoles === void 0 ? void 0 : allowedRoles.includes(userData === null || userData === void 0 ? void 0 : userData.role);\n\n  // var has_perm = permissions?.includes(userData?.permissions)\n  var has_perm = permissions.some(perm => {\n    var _userData$permissions;\n    return userData === null || userData === void 0 ? void 0 : (_userData$permissions = userData.permissions) === null || _userData$permissions === void 0 ? void 0 : _userData$permissions.includes(perm);\n  });\n  if (is_allowed && has_perm) {\n    return children;\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" You do not have enough permissions ! \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 14\n    }, this);\n  }\n};\n_c = RequireAuth;\nvar _c;\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"names":["React","Children","useContext","useState","UserInfo","jsxDEV","_jsxDEV","RequireAuth","_ref","allowedRoles","permissions","children","userData","is_allowed","includes","role","has_perm","some","perm","_userData$permissions","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/raj/Desktop/resumeX/resumeX/src/utils/RequireAuth.js"],"sourcesContent":["import React, { Children, useContext,  useState } from 'react'\nimport UserInfo from './Authorization/UserInfo'\n\nexport const RequireAuth = ({allowedRoles, permissions, children}) => {  \n    const userData = UserInfo()\n\n    // var is_allowed = userData?.role?.some(allowed_role => allowedRoles?.includes(allowed_role))\n\n    var is_allowed = allowedRoles?.includes(userData?.role)\n\n    // var has_perm = permissions?.includes(userData?.permissions)\n    var has_perm = permissions.some(perm => userData?.permissions?.includes(perm))\n\n    if (is_allowed && has_perm){\n      return(children)\n    }\n    else{\n      return <h1> You do not have enough permissions ! </h1>\n    }\n  }\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAGC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,QAAQ,MAAM,0BAA0B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/C,OAAO,MAAMC,WAAW,GAAGC,IAAA,IAA2C;EAAA,IAA1C;IAACC,YAAY;IAAEC,WAAW;IAAEC;EAAQ,CAAC,GAAAH,IAAA;EAC7D,MAAMI,QAAQ,GAAGR,QAAQ,CAAC,CAAC;;EAE3B;;EAEA,IAAIS,UAAU,GAAGJ,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEK,QAAQ,CAACF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,IAAI,CAAC;;EAEvD;EACA,IAAIC,QAAQ,GAAGN,WAAW,CAACO,IAAI,CAACC,IAAI;IAAA,IAAAC,qBAAA;IAAA,OAAIP,QAAQ,aAARA,QAAQ,wBAAAO,qBAAA,GAARP,QAAQ,CAAEF,WAAW,cAAAS,qBAAA,uBAArBA,qBAAA,CAAuBL,QAAQ,CAACI,IAAI,CAAC;EAAA,EAAC;EAE9E,IAAIL,UAAU,IAAIG,QAAQ,EAAC;IACzB,OAAOL,QAAQ;EACjB,CAAC,MACG;IACF,oBAAOL,OAAA;MAAAK,QAAA,EAAI;IAAsC;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EACxD;AACF,CAAC;AAAAC,EAAA,GAhBUjB,WAAW;AAAA,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}